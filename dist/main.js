(()=>{"use strict";const e=function(){let e=[];class t{constructor(e){this.title=e,this.todo=[]}}return{createProjects:function(n){const o=new t(n);e.push(o),localStorage.setItem("project",JSON.stringify(e))},listProjects:function(){const t=document.getElementById("todo-project");t.replaceChildren();for(let n=0;n<e.length;n++){const o=document.createElement("option"),d=e[n].title;o.textContent=d,t.appendChild(o)}},updateProjects:function(){},removeProjects:function(){},projectList:e}}(),t=function(){class t{constructor(e,t,n,o,d){this.title=e,this.description=t,this.priority=n,this.schedule=o,this.done=!1,this.projectTitle=d}}return{addTodo:function n(o,d,c,l,a){const i=new t(o,d,c,l,a);let s=0;for(let t of e.projectList){if(t.title===a)break;s++}return e.projectList[s].todo.push(i),n},listTodo:function(t){const n=document.querySelector(".tasks-list");n.replaceChildren();for(let o of e.projectList)if(o.title===t&&o.todo.length>0){const e=o.todo;for(let t=0;t<e.length;t++){const o=document.createElement("div");o.classList.add("todo-container");const d=document.createElement("input");d.type="checkbox",d.classList.add("done-todo-check"),d.id="detail-"+e[t].title+"-"+e[t].projectTitle,o.appendChild(d);const c=document.createElement("p");c.classList.add("todo-title");const l=document.createElement("div");l.classList.add("todo-sub-container");const a=document.createElement("button");a.classList.add("todo-details"),a.id="detail-"+e[t].title+"-"+e[t].projectTitle;const i=document.createElement("p"),s=document.createElement("btn"),r=document.createElement("btn");c.innerHTML=e[t].title,s.innerHTML='<i class="fa-regular fa-pen-to-square"></i>',r.innerHTML='<i class="fa-solid fa-trash"></i>',s.classList.add("edit-todo"),r.classList.add("delete-todo"),i.innerHTML=e[t].schedule,a.innerHTML="DETAILS",a.setAttribute("data-modal-target","#description-modal"),o.appendChild(c),l.appendChild(a),l.appendChild(i),l.appendChild(s),l.appendChild(r),o.appendChild(l),n.appendChild(o)}break}},searchDetails:function(t,n){const o=document.querySelector(".add-description-form-body");o.replaceChildren();for(let d of e.projectList)if(d.title===n){let e=d.todo;for(let n of e)if(n.title===t){const e=document.createElement("div"),t=document.createElement("div"),d=document.createElement("div"),c=document.createElement("div");e.classList.add("details-desc"),t.classList.add("details-desc"),d.classList.add("details-desc"),c.classList.add("details-desc");const l=document.createElement("span"),a=document.createElement("span"),i=document.createElement("span"),s=document.createElement("span");l.textContent="Project: ",a.textContent="Priority: ",i.textContent="Due Date: ",s.textContent="Description: ";const r=document.createElement("p"),u=document.createElement("p"),p=document.createElement("p"),m=document.createElement("p");r.textContent=n.projectTitle,u.textContent=n.priority,p.textContent=n.schedule,m.textContent=n.description,e.appendChild(l),e.appendChild(r),t.appendChild(a),t.appendChild(u),d.appendChild(i),d.appendChild(p),c.appendChild(s),c.appendChild(m),o.appendChild(e),o.appendChild(t),o.appendChild(d),o.appendChild(c);break}}},editTodo:function(){},removeTodo:function(){}}}();!function(){const n=document.querySelector(".add-todo-btn"),o=document.querySelector(".category-name"),d=document.querySelectorAll(".sidebar"),c=document.querySelector("[data-modal-target]"),l=document.querySelectorAll("[data-close-button]"),a=document.getElementById("overlay"),i=document.getElementById("project-content-list");let s=document.querySelectorAll(".project-name");const r=document.getElementById("project-form"),u=document.querySelector(".add-project-button"),p=document.querySelector(".add-task-button"),m=document.getElementById("todo-form"),h=document.querySelector(".tasks-list");function E(e){null!=e&&(e.classList.add("active"),a.classList.add("active"))}function f(e){null!=e&&(e.classList.remove("active"),a.classList.remove("active"),r.reset(),m.reset(),s=document.querySelectorAll(".project-name"))}n.addEventListener("click",(()=>{const t=document.querySelector(n.dataset.modalTarget);t.querySelector("h2").textContent="New Task",E(t),e.listProjects()})),p.addEventListener("click",(e=>{e.preventDefault();const o=document.querySelector(n.dataset.modalTarget),d=document.getElementById("todo-title").value,c=document.getElementById("todo-description").value,l=document.getElementById("due-date").value,a=document.getElementById("todo-priority"),i=a.options[a.selectedIndex].text,s=document.getElementById("todo-project"),r=s.options[s.selectedIndex].text;t.addTodo(d,c,i,l,r),t.listTodo(r),f(o)})),c.addEventListener("click",(()=>{const e=document.querySelector(c.dataset.modalTarget);document.querySelector(".modal-header").textContent="New Project",E(e)})),u.addEventListener("click",(t=>{t.preventDefault();const n=document.querySelector(c.dataset.modalTarget),o=document.createElement("a"),d=document.createElement("li"),l=document.createElement("span"),a=document.createElement("btn"),s=document.createElement("btn"),r=document.getElementById("project-title").value,u=document.createElement("div");e.createProjects(r),l.textContent=r,a.innerHTML='<i class="fa-regular fa-pen-to-square"></i>',s.innerHTML='<i class="fa-solid fa-trash"></i>',a.classList.add("edit-project"),s.classList.add("delete-project"),d.id="proj-"+r,l.classList.add("project-name"),o.appendChild(l),o.href="#",o.classList.add("project-link"),d.appendChild(o),u.classList.add("edit-delete"),u.appendChild(a),u.appendChild(s),d.appendChild(u),d.classList.add("projects-sidebar"),i.appendChild(d),f(n)})),l.forEach((e=>{e.addEventListener("click",(()=>{f(e.closest(".modal"))}))})),a.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((e=>{f(e)}))})),d.forEach((e=>{e.addEventListener("click",(()=>{o.innerHTML=e.textContent}))})),i.addEventListener("click",(function(e){const n=e.target.closest(".projects-sidebar").id.split("-");o.innerHTML=n[1].charAt(0).toUpperCase()+n[1].slice(1),t.listTodo(n[1])})),h.addEventListener("click",(function(e){const n=e.target.closest(".todo-details"),o=n.id.split("-"),d=document.querySelector(n.dataset.modalTarget);d.querySelector("h2").textContent=o[1].charAt(0).toUpperCase()+o[1].slice(1),t.searchDetails(o[1],o[2]),E(d)}))}()})();